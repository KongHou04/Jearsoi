<div class="main-container">
  <div class="background-container">
    <img src="assets/images/slides/5.jpg" alt="" />
  </div>

  <div class="cart-container">
    <div *ngIf="order" class="cart">
      <div class="cart-header">
        <div class="title">
          <i class="fa-solid fa-truck-fast"></i>
          <span class="fw-bold">{{order.orderId}}</span>
        </div>
      </div>
      <div class="cart-body row gx-0">
        <!-- cart details -->
        <div class="col-12 d-block d-md-none">
          <div class="cart-info-section cart-body-section">
            <div class="item-list-section">
              <h4>Order Summery</h4>

              <div class="cart-item-container">
                <div class="cart-item">
                  <div class="cart-img">
                    <img src="assets/images/menus/5.jpg" alt="" />
                  </div>
                  <div class="cart-info">
                    <h5>Fried Chiken Legs</h5>

                    <div class="mt-auto">
                      <button class="update-number-btn">
                        <i class="fa-solid fa-minus"></i>
                      </button>
                      <span class="number">1</span>
                      <button class="update-number-btn">
                        <i class="fa-solid fa-plus"></i>
                      </button>
                      <span class="price">
                        <span class="">$</span>
                        <span class="ms-1">3.99</span>
                      </span>
                    </div>
                  </div>
                  <div class="cart-close-btn">
                    <button>
                      <i class="fa-solid fa-xmark"></i>
                    </button>
                  </div>
                </div>

                <div class="cart-item">
                  <div class="cart-img">
                    <img src="assets/images/menus/3.jpg" alt="" />
                  </div>
                  <div class="cart-info">
                    <h5>Fried Chiken Legs</h5>

                    <div class="mt-auto">
                      <button class="update-number-btn">
                        <i class="fa-solid fa-minus"></i>
                      </button>
                      <span class="number">1</span>
                      <button class="update-number-btn">
                        <i class="fa-solid fa-plus"></i>
                      </button>
                      <span class="price">
                        <span class="">$</span>
                        <span class="ms-1">3.99</span>
                      </span>
                    </div>
                  </div>
                  <div class="cart-close-btn">
                    <button>
                      <i class="fa-solid fa-xmark"></i>
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <form class="discount-section">
              <label for="exampleFormControlInput1" class="form-label"
                >Coupon code</label
              >
              <div class="d-flex">
                <input
                  type="text"
                  class="form-control"
                  id="exampleFormControlInput1"
                />
                <button class="ms-3">Apply</button>
              </div>
            </form>

            <div class="summery-section">
              <div class="summery-description">
                <span class="name">Subtotal</span>
                <span class="value">9.99</span>
              </div>
              <div class="summery-description">
                <span class="name">Discount</span>
                <span class="value">1.00</span>
              </div>
              <div class="summery-description">
                <span class="name">Shipping</span>
                <span class="value">2.00</span>
              </div>
              <div class="summery-description fw-bold mb-0">
                <span class="name">Total</span>
                <span class="value">$ 10.99</span>
              </div>
            </div>
          </div>
        </div>

        <!-- payment details -->
        <div class="col-12 col-lg-5">
          <form class="payment-section cart-body-section">
            <h4 class="">Customer Details</h4>
            <div class="mb-3">
              <label for="customer-name" class="form-label"
                >Customer Name</label
              >
              <input
                [(ngModel)]="order.email"
                type="text"
                class="form-control"
                id="customer-name"
                name="customer-name"
              />
            </div>
            <div class="mb-3">
              <label for="customer-phone" class="form-label"
                >Phone Number</label
              >
              <input
                type="tel"
                [(ngModel)]="order.phone"
                class="form-control"
                id="customer-phone"
                name="customer-phone"
              />
            </div>
            <div class="mb-3">
              <label for="customer-address" class="form-label">Address</label>
              <input
                type="text"
                [(ngModel)]="order.address"
                class="form-control"
                id="customer-address"
                name="customer-address"
              />
            </div>
            <div class="mb-3">
              <label for="customer-note" class="form-label">Note</label>
              <textarea
                class="form-control"
                [(ngModel)]="order.note"
                rows="2"
                id="customer-note"
                name="customer-note"
              >
              </textarea>
            </div>
          </form>
        </div>

        <!-- cart details -->
        <div class="d-none d-md-block col-lg-7">
          <div class="cart-info-section cart-body-section">
            <div class="item-list-section">
              <h4>Order Summery</h4>

              <div class="item-list-container">
                <table class="table">
                  <thead>
                    <tr>
                      <th scope="col" style="width: 7.5%">#</th>
                      <th scope="col" style="width: 47.5%">Name</th>
                      <th scope="col" style="width: 15%">Price</th>
                      <th scope="col" class="text-end" style="width: 15%">Quantity</th>
                      <th scope="col" class="text-end" style="width: 15%">Total</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let item of order.orderDetails; let i = index">
                      <th scope="row">{{i + 1}}</th>
                      <td>{{item.productName}}</td>
                      <td>{{item.unitPrice}}</td>
                      <td class="text-end">{{item.quantity}}</td>
                      <td class="action">{{(item.quantity * item.unitPrice) | number : "1.2-2" }}</td>
                    </tr>
                    
                    
                  </tbody>
                </table>
              </div>
            </div>

            <div class="summery-section">
              <div class="summery-description">
                <span class="name">Subtotal</span>
                <span class="value">{{ order.subTotal | number : "1.2-2" }}</span>
              </div>
              <div class="summery-description">
                <span class="name">Discount</span>
                <span class="value">{{ order.discount | number : "1.2-2" }}</span>
              </div>
              <div class="summery-description fw-bold mb-0">
                <span class="name">Total</span>
                <span class="value">$ {{ order.total | number : "1.2-2" }}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div *ngIf="order==null" class="d-flex flex-column justify-content-center align-items-center" style="height: calc(100vh - 280px);">
      <div>
        <input class="input-bar" id="order-search" #orderIdInput type="text" placeholder="Your order id here">
      </div>
      <button class="btn-search" (click)="searchOrder(orderIdInput.value)">Search</button>
    </div>
  </div>
</div>
